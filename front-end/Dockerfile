FROM node:lts

WORKDIR /front-end

ARG REACT_APP_BACKEND_HOST
ARG REACT_APP_BACKEND_HOST_FOR_SOCKET
ARG REACT_APP_FINANCIAL_MODELING_PREP_API_KEY
ARG REACT_APP_FIREBASE_API_KEY
ARG REACT_APP_FIREBASE_AUTH_DOMAIN
ARG REACT_APP_FIREBASE_DATABASE_URL
ARG REACT_APP_FIREBASE_PROJECT_ID
ARG REACT_APP_FIREBASE_STORAGE_BUCKET
ARG REACT_APP_NODE_ENV

COPY package.json package.json
COPY package-lock.json package-lock.json

RUN npm i

COPY . .

RUN npm run build

EXPOSE 5000

CMD npm start